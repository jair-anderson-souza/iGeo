<!DOCTYPE html>
<html ng-app="app">
    <head>
        <title>Welcome</title>
        <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
        <script src="assets/lib/angular/angular.min.js"></script>
        <meta charset="utf-8">
        <style>
            body, html{
                height: 100%;
                padding: 0;
                margin: 0;
            }
            #map{
                height: 100%;
            }
        </style>
        <script>
            var app = angular.module("app", []);
            app.controller("init", function ($scope) {
                $scope.openMap = function () {
                    var map = new google.maps.Map(document.getElementById("map"), {
                        center: {lat: -34.397, lng: 150.644},
                        zoom: 14
                    });

                    var infoWindow = new google.maps.InfoWindow({map: map});

                    if (navigator.geolocation) {
                        navigator.geolocation.getCurrentPosition(function (position) {
                            var pos = {
                                lat: position.coords.latitude,
                                lng: position.coords.longitude
                            };
                            infoWindow.setPosition(pos);
                            infoWindow.setContent("Localização encontrada!");
                            map.setCenter(pos);
                            console.log(map.position;

                        }, function () {
                            handleLocationError(true, infoWindow, map.getCenter());
                        });
                    } else {
                        handleLocationError(false, infoWindow, map.getCenter());
                    }
                }
                function handleLocationError(browserHasGeolocation, infoWindow, pos) {
                    infoWindow.setPosition(pos);
                    infoWindow.setContent(browserHasGeolocation ? "Error: The Geolocation has failed" : "Error: Your browser doesn't support geolocation.");
                }
            });
        </script>
    </head>
    <body ng-controller="init">
        <div>
            <form>
                <label>Origem</label>
                <button ng-click="openMap()">Abrir Mapa</button>
                <br/>

                <label>Destino</label>
                <button ng-click="openMap()">Abrir Mapa</button>
                <br/>

                <label>Data de Viagem</label>
                <input type="text" name="origem">
                <br/>

                <label>Hora de Saída</label>
                <input type="text" name="origem">
                <br/>

                <label>Ajuda de Custo</label>
                <input type="text" name="origem">
                <br/>
                <button>Confirmar</button>
            </form>
        </div>
        <div id="map"></div>
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCFQnphaheCtrkO0LZGvozgTmLEajc7NJg&language=pt&region=BR"></script>   
    </body>

</html>